# üå§Ô∏è Weather SDK

> –ü—Ä–æ—Å—Ç–æ–π –∏ –º–æ—â–Ω—ã–π Java SDK –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å OpenWeatherMap API

–ü—Ä–∏–≤–µ—Ç! –¢–µ–ø–µ—Ä—å –≤—Å–µ —Å—Ç–∞–ª–æ –Ω–∞–º–Ω–æ–≥–æ –ø—Ä–æ—â–µ - –ø—Ä–æ—Å—Ç–æ –ø–æ–¥–∫–ª—é—á–∞–µ—à—å SDK –∏ –ø–æ–ª—É—á–∞–µ—à—å –∞–∫—Ç—É–∞–ª—å–Ω—É—é –ø–æ–≥–æ–¥—É –≤ –ª—é–±–æ–π —Ç–æ—á–∫–µ –º–∏—Ä–∞!

## ‚ú® –ß—Ç–æ —É–º–µ–µ—Ç

- üöÄ **–ë—ã—Å—Ç—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã** –∫ OpenWeatherMap API
- üíæ **–£–º–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –Ω–µ —Å–ø–∞–º–∏–º API –ª–∏—à–Ω–∏–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏
- üîÑ **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–æ–Ω–µ (polling —Ä–µ–∂–∏–º)
- üõ°Ô∏è **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –Ω–∏–∫–∞–∫–∏—Ö –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã—Ö –ø–∞–¥–µ–Ω–∏–π
- üéØ **Thread-safe** - –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö
- üì¶ **–ì–æ—Ç–æ–≤—ã–µ DTO** - –Ω–∏–∫–∞–∫–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON –≤—Ä—É—á–Ω—É—é

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–°–∫–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**

```bash
git clone git@github.com:RoodeLine/weather-sdk.git
cd "SDK Weather"
```

2. **–°–æ–±–µ—Ä–∏ –ø—Ä–æ–µ–∫—Ç:**

```bash
mvn clean package
```

3. **–ü–æ–ª—É—á–∏ API –∫–ª—é—á:**

   - –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Å—è –Ω–∞ [OpenWeatherMap](https://openweathermap.org/api)
   - –ü–æ–ª—É—á–∏ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π API –∫–ª—é—á
   - –ì–æ—Ç–æ–≤–æ! üéâ

### –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å

```java
import com.example.weather.WeatherSDK;
import com.example.weather.WeatherSDK.Mode;

public class MyApp {
    public static void main(String[] args) {
        // –°–æ–∑–¥–∞–µ–º SDK
        WeatherSDK weather = WeatherSDK.getInstance(
            "my-app", 
            "—Ç–≤–æ–π-api-–∫–ª—é—á-–∑–¥–µ—Å—å", 
            Mode.ON_DEMAND
        );
        
        // –ü–æ–ª—É—á–∞–µ–º –ø–æ–≥–æ–¥—É
        String londonWeather = weather.getWeather("London");
        System.out.println(londonWeather);
        
        // –ù–µ –∑–∞–±—ã–≤–∞–µ–º –ø–æ—á–∏—Å—Ç–∏—Ç—å –∑–∞ —Å–æ–±–æ–π
        WeatherSDK.deleteInstance("my-app");
    }
}
```

## üìñ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –û–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º (–ø–æ –∑–∞–ø—Ä–æ—Å—É)

–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± - –ø–æ–ª—É—á–∞–µ—à—å –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ:

```java
WeatherSDK sdk = WeatherSDK.getInstance("weather-app", "your-api-key", Mode.ON_DEMAND);

// –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å - –∏–¥–µ—Ç –≤ API
String moscow = sdk.getWeather("Moscow");
System.out.println("–ú–æ—Å–∫–≤–∞: " + moscow);

// –í—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å —Ç–æ–≥–æ –∂–µ –≥–æ—Ä–æ–¥–∞ - –±–µ—Ä–µ—Ç—Å—è –∏–∑ –∫—ç—à–∞ (–±—ã—Å—Ç—Ä–æ!)
String moscowCached = sdk.getWeather("Moscow");
System.out.println("–ú–æ—Å–∫–≤–∞ (–∏–∑ –∫—ç—à–∞): " + moscowCached);

WeatherSDK.deleteInstance("weather-app");
```

### –†–µ–∂–∏–º –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ø–æ–≥–æ–¥—É - –≤–∫–ª—é—á–∞–π polling —Ä–µ–∂–∏–º:

```java
// SDK –±—É–¥–µ—Ç —Å–∞–º –æ–±–Ω–æ–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
WeatherSDK sdk = WeatherSDK.getInstance("monitor", "your-api-key", Mode.POLLING);

// –î–æ–±–∞–≤–ª—è–µ–º –≥–æ—Ä–æ–¥–∞ –≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
sdk.getWeather("New York");
sdk.getWeather("Tokyo");
sdk.getWeather("Berlin");

// –¢–µ–ø–µ—Ä—å –º–æ–∂–µ—à—å —Å–ø–æ–∫–æ–π–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
// SDK —Å–∞–º —Å–ª–µ–¥–∏—Ç –∑–∞ —Å–≤–µ–∂–µ—Å—Ç—å—é
String nyWeather = sdk.getWeather("New York"); // –≤—Å–µ–≥–¥–∞ —Å–≤–µ–∂–∏–µ –¥–∞–Ω–Ω—ã–µ!

// –ö–æ–≥–¥–∞ –∑–∞–∫–æ–Ω—á–∏–ª - –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
WeatherSDK.deleteInstance("monitor");
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–Ø –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–ª –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å:

```java
try {
    WeatherSDK sdk = WeatherSDK.getInstance("error-demo", "your-api-key", Mode.ON_DEMAND);
    String weather = sdk.getWeather("–ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π-–ì–æ—Ä–æ–¥");
    
} catch (ApiKeyException e) {
    System.err.println("–ü—Ä–æ–±–ª–µ–º–∞ —Å API –∫–ª—é—á–æ–º: " + e.getMessage());
    // –ü—Ä–æ–≤–µ—Ä—å –∫–ª—é—á –Ω–∞ openweathermap.org
    
} catch (CityNotFoundException e) {
    System.err.println("–ì–æ—Ä–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω: " + e.getMessage());
    // –ü–æ–ø—Ä–æ–±—É–π –¥—Ä—É–≥–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
    
} catch (RateLimitException e) {
    System.err.println("–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤: " + e.getMessage());
    // –ü–æ–¥–æ–∂–¥–∏ –Ω–µ–º–Ω–æ–≥–æ –∏–ª–∏ –∞–ø–≥—Ä–µ–π–¥–Ω–∏ –ø–ª–∞–Ω
    
} catch (WeatherSdkException e) {
    System.err.println("–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫: " + e.getMessage());
    // –û–±—â–∞—è –æ—à–∏–±–∫–∞ SDK
}
```

## üîß API Reference

### WeatherSDK

–ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–≥–æ–¥–æ–π.

#### `getInstance(String instanceKey, String apiKey, Mode mode)`

–°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä SDK.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

- `instanceKey` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ (–º–æ–∂–µ—à—å –Ω–∞–∑–≤–∞—Ç—å –∫–∞–∫ —Ö–æ—á–µ—à—å)
- `apiKey` - —Ç–≤–æ–π API –∫–ª—é—á –æ—Ç OpenWeatherMap
- `mode` - —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã (`ON_DEMAND` –∏–ª–∏ `POLLING`)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** —ç–∫–∑–µ–º–ø–ª—è—Ä WeatherSDK

**–ü—Ä–∏–º–µ—Ä:**

```java
WeatherSDK sdk = WeatherSDK.getInstance("my-weather", "abc123", Mode.ON_DEMAND);
```

#### `getWeather(String cityName)`

–ü–æ–ª—É—á–∞–µ—Ç –ø–æ–≥–æ–¥—É –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

- `cityName` - –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Moscow", "New York", "London")

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** JSON —Å—Ç—Ä–æ–∫—É —Å –¥–∞–Ω–Ω—ã–º–∏ –æ –ø–æ–≥–æ–¥–µ

**–ü—Ä–∏–º–µ—Ä:**

```java
String weather = sdk.getWeather("Paris");
```

#### `deleteInstance(String instanceKey)`

–£–¥–∞–ª—è–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä SDK –∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç —Ä–µ—Å—É—Ä—Å—ã.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

- `instanceKey` - –∫–ª—é—á —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä:**

```java
WeatherSDK.deleteInstance("my-weather");
```

### –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

#### `Mode.ON_DEMAND`

- –ó–∞–ø—Ä–æ—Å—ã –∫ API —Ç–æ–ª—å–∫–æ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ 10 –º–∏–Ω—É—Ç
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–µ–¥–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

#### `Mode.POLLING`

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- –í—Å–µ–≥–¥–∞ —Å–≤–µ–∂–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ –∫—ç—à–µ
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

## üéõÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é SDK –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–∞–∑—É–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

- **API URL:** `https://api.openweathermap.org`
- **–¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞:** 10 —Å–µ–∫—É–Ω–¥
- **–í—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫—ç—à–∞:** 10 –º–∏–Ω—É—Ç (ON_DEMAND) / 5 –º–∏–Ω—É—Ç (POLLING)
- **–†–∞–∑–º–µ—Ä –∫—ç—à–∞:** –¥–æ 10 –≥–æ—Ä–æ–¥–æ–≤

## ü§î FAQ

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ SDK –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ?**
A: –î–∞! –ü—Ä–æ—Å—Ç–æ –¥–∞–≤–∞–π –∏–º —Ä–∞–∑–Ω—ã–µ `instanceKey`. –ù–∞–ø—Ä–∏–º–µ—Ä, –æ–¥–∏–Ω –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞, –¥—Ä—É–≥–æ–π –¥–ª—è —Ä–∞–∑–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

**Q: –ß—Ç–æ –µ—Å–ª–∏ —É –º–µ–Ω—è –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã?**
A: SDK –∫–∏–Ω–µ—Ç `RateLimitException`. –õ–∏–±–æ –ø–æ–¥–æ–∂–¥–∏ –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–Ω—è, –ª–∏–±–æ –∞–ø–≥—Ä–µ–π–¥–Ω–∏ –ø–ª–∞–Ω –Ω–∞ OpenWeatherMap.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –ø–æ–ª—É—á–∏—Ç—å –ø–æ–≥–æ–¥—É –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º?**
A: –ü–æ–∫–∞ –Ω–µ—Ç, –Ω–æ —ç—Ç–æ –≤ –ø–ª–∞–Ω–∞—Ö! –°–µ–π—á–∞—Å —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –≥–æ—Ä–æ–¥–∞.

**Q: Thread-safe –ª–∏ SDK?**
A: –î–∞, –º–æ–∂–µ—à—å —Å–ø–æ–∫–æ–π–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–∑ —Ä–∞–∑–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤.

## üõ†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Java 17+** (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞ 17, –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –∏ –Ω–∞ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö)
- **Maven 3.6+** –¥–ª—è —Å–±–æ—Ä–∫–∏
- **API –∫–ª—é—á OpenWeatherMap** (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–æ–¥–æ–π–¥–µ—Ç)

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

SDK –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–∏–Ω–∏–º—É–º –≤–Ω–µ—à–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫:

- `jackson-databind` 2.17.2 - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å JSON
- `junit-jupiter` 5.10.2 - –¥–ª—è —Ç–µ—Å—Ç–æ–≤

---

*–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Ö–æ—Ç—è—Ç –∫–∞–∂–¥—ã–π —Ä–∞–∑ –∏–∑–æ–±—Ä–µ—Ç–∞—Ç—å –≤–µ–ª–æ—Å–∏–ø–µ–¥*
